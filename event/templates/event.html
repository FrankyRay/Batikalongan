{% extends 'base_event.html' %}
{% load static %}

{% block title %} Events - Batikalongan {% endblock title %}

{% block content %}
{% include 'navbar.html' %}
<div class=" container text-bg-black mx-3 mt-3 w-100 d-flex flex-column justify-content-center position-relative" style="background: linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5) ),url('https://www.jnjbatik.com/wp-content/uploads/2016/11/kamu-tahu-apa-itu-batik-tulis.jpg') center center; height: 10rem; border-radius: 10px;">
        <h1 class="text-light font-family-Fabled" style="font-size: 2.5rem;">Workshop Batik Tulis</h1>
        <div class="text-light d-flex align-items-center gap-1">
            <img src="{% static 'images/calendar-range.svg' %}" style="width: 1rem; filter: invert(100%) sepia(0%) saturate(0%) hue-rotate(93deg) brightness(103%) contrast(103%);">
            Selasa, 5 November 2024
        </div>
        <div class="text-light d-flex align-items-center gap-1">
            <img src="{% static 'images/map-marker-outline.svg' %}" style="width: 1rem; filter: invert(100%) sepia(0%) saturate(0%) hue-rotate(93deg) brightness(103%) contrast(103%);">
            Balai Budaya Pekalongan
        </div>

        <div class="position-absolute d-flex align-items-center gap-3" style="right: 10px; top: 15px;">
            {% if request.session.is_admin %}
            <a href=""><img src="{% static 'images/edit_icon.svg' %}"></a>
            {% endif %}
            <a class="btn btn-primary" style="width: 8rem; background-color: #D88E30 !important; border: 0px solid black;" href="#">Daftar</a>
        </div>
</div>

<div class="d-flex flex-column my-2 mx-5 mt-5 w-100 container" style="min-height: 75vh;">
    <div class="d-flex align-items-center vw-auto mb-3">
        <h1 class="flex-grow-1 font-family-Fabled" style="font-size: 2.5rem;">Event Batik</h1>
        <a href="{% url 'event:create_event' %}" class="btn" style="border: 2px solid #D88E30; color: #D88E30;">
            Tambah Event
        </a>
    </div>

    {% if not events %}
    <div>
        <p>Tidak ada event sekarang. Silahkan cek nanti.</p>
        {% if request.session.is_admin %}
        <p>Anda dapat menambahkan event dengan menekan tombol "Tambah Event"</p>
        {% endif %}
    </div>
    {% else %}
    <div class="d-flex gap-3">
        {% for event in events %}
        <div class="card" style="width: 32rem;">
            {% if event.foto %}
            <img src="{{ event.foto.url }}" class="card-img-top" style="height: 15rem; object-fit: cover;" alt="Placeholder">
            {% else %}
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQjNoKfjbJuH_h1cwBxBFCWmIwdJ1DLP_2akQ&s" class="card-img-top" style="height: 15rem; object-fit: cover;" alt="Placeholder">
            {% endif %}

            <div class="card-body d-flex flex-column gap-1">
                <div class="card-title"><b>{{ event.nama }}</b></div>
                <p class="card-text">{{ event.deskripsi }}</p>
                <div class="d-flex flex-fill gap-1">
                    <span class="tag d-flex align-items-center gap-1 px-2">
                        <img src="{% static 'images/calendar-range.svg' %}" style="width: 15px;">
                        {{ event.tanggal }}
                    </span>
                    <span class="tag d-flex align-items-center gap-1 px-2">
                        <img src="{% static 'images/map-marker-outline.svg' %}" style="width: 15px;">
                        {{ event.lokasi }}
                    </span>
                </div>
                <a href="#" class="btn btn-primary form-control" style="background-color: #D88E30 !important; border: 0px solid black;">Daftar</a>
            </div>

            {% if request.session.is_admin %}
            <div class="position-absolute d-flex gap-2" style="right: 10px; top: 10px;">
                <a href="{% url 'event:edit_event' event.pk %}"><img src="{% static 'images/edit_icon.svg' %}"></a>
                <a href="{% url 'event:delete_event' event.pk %}"><img src="{% static 'images/delete_icon.svg' %}"></a>
            </div>
            {% endif %}
        </div>
        {% endfor %}
    </div>
    {% endif %}
</div>

{% include 'footer.html' %}
{% endblock content %}
